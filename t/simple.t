
BEGIN { $| = 1; print "1..1000\n"; }
END {print "not ok 1\n" unless $loaded;}

use Math::simpleRNG qw(sRNG);

$loaded = 1;
print "ok 1\n";
######################### End of black magic.

my $test = 2;

sub ok {
  print "ok $test\n";
  ++$test;
}

sub skipit {
  my($skipcount,$reason) = @_;
  $skipcount = 1 unless $skipcount;
  $reason = $reason ? ":\t$reason" : '';
  foreach (1..$skipcount) {
    print "ok $test     # skipped$reason\n";
    ++$test;
  }
}

my @exp = qw{
0
2422818384
1583405312
3876119375
4987936329
1664658238
2334766189
2694799128
1812953358
2344600190
4599340191
3982795035
3621114848
1917297215
3999344609
961554656
1011552500
3469217658
118306504
4146451136
4531972875
2378280786
3979629318
813942279
2360271613
3785118579
2122105928
2625314155
1952622937
3026012644
3620576707
3341267771
957239236
3821254266
3579541512
3642483870
1638123095
4183491578
2466828442
4614933815
2854708347
3451133349
2570878249
2310036212
3399763616
1006496507
3407487957
4123898138
2796781047
2212173780
1295420633
2309972059
3713279263
2125409831
2447253602
2075391821
4663369460
2424875052
2050994132
4651751536
733901643
1360826406
2755497866
3278290615
4634430108
4295765281
478238710
3836792133
2772376504
4329255393
3795461101
2994804163
1488464078
977541722
4077970261
1391415244
1930032688
4041549034
1086965950
1660402051
4767154706
1315161236
3299534545
1077968205
4240012661
4750365946
3159755362
3247392031
1685526154
221764124
5297264368
2378499815
1095929145
2838149557
1620159833
4986549457
1817761516
1235018601
5011014103
1806867366
924387425
1598443280
1322194765
632318919
3005816470
3786649722
4117400198
2279743064
4164202892
980077589
2765927763
1210487805
2693242589
2213493685
3684389426
1897884678
1941470323
4036457371
4451968158
2721629472
3619522358
3202693892
2616176227
1978376485
2475338101
848502482
1778531371
1154455527
3803165366
4762814104
1022808213
2409702171
1727173562
2118455236
2130226643
3982035012
1007049982
3299378597
1419180826
1764800724
958922551
5260443123
3548713992
2225190976
924653952
1208625819
3404708209
2268718339
1837733342
697419846
4227392265
4158955473
3291567531
3076305749
3850854423
3309535857
4546347956
2307621907
925937072
3237186374
868407700
5234728064
960701378
1664967580
4300001938
3810448635
982870597
3853864463
604609504
2829978480
2339266000
3877516324
891108612
2648455058
2765052514
2128026083
1931231683
2543576588
4337384911
4217842143
4033224874
3482041504
3610819320
1238921550
2499538874
4130137406
1213192503
2263099942
470600585
5166865507
4363069655
3236074748
1784381943
1629311003
2613939746
2059652256
2063063305
4516970755
3008323212
2467755823
2999202471
3424436756
4945357865
3771807774
3553544577
4508831161
4217444136
1476739545
573173804
1211901909
1984950919
3223109408
3935288476
3079785790
3933686573
3939632239
4256813398
1671491607
5240031918
4235603025
4095681895
1440605788
1131753221
4013903573
3168791930
1732683718
2008994585
4935384036
3738519866
4268688207
2469836493
2556505848
4420448181
1889039222
1884719394
1536509526
2385486986
2427009649
2710853249
4030553693
1718944466
2138990475
3239403062
3104330064
983392992
3598203989
4174984120
2902231570
1224417236
863440940
2920881790
912326609
4636811183
4237035251
4190414500
4841139496
1902459460
2215120483
2785779953
1769944387
3184796452
3089424865
4606141942
3056426730
4356943757
1673102369
3899031687
1876375674
2193433965
406753171
4609415735
4336542367
2683392739
1381372934
3746823332
4277260479
2943597331
3998998853
3507123953
4677127983
440383835
2520638511
3474152344
2070900268
2933296872
3949213378
324816864
1782007050
2525324560
2968717302
226417826
2754166991
2453542729
2133413533
644842869
3512715303
2549177047
3222889513
1087085507
3825408626
1165924968
1226356675
3955485016
2166959608
1166568855
4730557904
3873689369
2044901109
3602015089
3535612816
4100921424
1197311223
802692573
2176640917
5086586051
3529182859
3459618697
2066011342
2088435198
4446490066
274203491
1417749692
4436911022
5144560758
4639287144
4602328693
3812114974
3882623249
2341277049
2134398181
3665242435
3147320897
2131641765
3265197838
1511332736
676781019
3411910141
4610967922
4384377604
354992276
3277306586
1355625732
2791169170
1890838575
1713284420
4652301573
3592396020
2069751446
2949791227
2979086277
1509612694
1073022051
4228689286
2485575444
3799211496
4065920453
285263195
5154836485
3123484100
3132001486
3956112770
3743148876
3199103544
4790305312
2269350239
1556281817
2566295434
3458653119
1849167132
625736987
1403485705
2986024532
762483934
2467316148
4352698659
1314488059
4735733880
2016286816
2529166766
615932178
3337306927
3982095193
3428283459
2438130118
1338659278
2324440213
4010427144
537996428
2807121449
2257989388
1084231429
3120635004
1313198816
5195640274
3082221451
2458610181
2514862989
3685009198
4192012309
3946478405
1103324616
898474075
3452705380
4258841419
3315765423
846153299
3884831661
2637203296
2369570851
4237705758
984159320
294682025
3269886054
2728404579
1639986228
3941307083
2728357830
2770287153
927314947
983507691
3282001121
3958871527
3021544370
3381165260
1255788379
4205039798
3244701139
4225088835
4480730552
3537980795
3969645866
5255048807
5049348024
2531158374
2073236919
4388155427
5306032870
3612478932
3350427390
3399919404
3542378094
3771548746
1243131714
1103291233
2555102322
2575158803
1316539876
3643402201
2087256668
1945314414
3336075014
3320438753
2086968576
1158827389
2372898863
1849425400
2717537561
580432785
4558740143
1789092353
1655382624
2440501483
1506219233
3330151208
1671230012
4331544578
957992744
3848844618
3200654341
1811239259
895112738
671698168
1852503336
3669074339
863852613
3598229493
3585675982
3025297487
3517102042
4958988947
3366171247
1518610529
2617202002
503390391
748444319
3107509420
3781072547
3461209945
4850993967
2690356744
3337758502
1544866069
5027503952
4482195514
1488394721
900389350
3553493755
1049742409
3784560033
1569161323
4382235626
3394689125
1745184866
539862543
3608484699
2619251724
2919764803
3861545420
2844024074
1618342598
4888075117
370385598
3530741480
1056621874
1925023398
1072344585
3456105931
3889234236
2534412405
1104683751
900142773
3419250726
3713037852
2337717436
3493102384
1659065046
1724418792
2632183616
1918921254
4124889494
4416643079
4351731136
3129178100
2846178974
905635410
4872173266
797887714
2536764226
4745414885
4114786400
1512108549
3778686414
3531531993
1710130788
1374525095
4123058969
5018744624
4623277407
784165780
1138180473
4172982620
1484007099
3225250548
1362243299
3564361296
3814909408
5078077660
1423944675
4463779621
3289188549
1943525594
2115723912
1719219727
846469568
4230978265
4689346786
2445819175
2264398634
2975992299
456695916
3847007353
2268407775
3661078287
2686441891
1923203231
4939442038
2362822087
4852545474
3534795044
1966176076
768950375
609446644
2040149488
2367527008
2071260368
5114759897
2921659099
2691189098
487207430
3845937674
4040355037
3698691018
1300900910
1106872517
1087678386
3142727984
3213962511
1028341349
3032099312
806079523
2142791796
2227868753
2748423168
2972641468
4271918488
3639283564
3663884048
3261995324
200304961
2805182782
4769215560
1853372206
1238692432
3486492711
1599764669
3413874495
1088986841
4316144474
3595948993
2689268741
3164101048
1218551480
1840513572
4179930840
4958565398
3295902437
1193817862
2840000417
5173049196
3117292995
3777413053
4991394108
4893638505
2837099288
2463354278
5035841808
3030805883
3419345934
3696047730
3124245794
4406506900
5398938839
2445250723
2909001688
4119833401
3515634456
4168332935
2832730882
2465410754
2818812838
3848344759
3688149589
2894790208
1823548666
4296552437
4337370296
1582945964
3491503883
3382374502
4418505830
3231188455
161482136
1152078111
3283998009
3855896087
4130335680
4813046130
1011408992
2236968953
1876709744
3001299393
3462424750
3752941578
4458306528
2054229550
988093340
3446361253
3101235493
1697451677
3669394936
4720931203
2083876795
3678289201
1906091008
5031481550
4372545899
1879099809
1948925295
814203921
3557555247
1503714953
1082213907
2716751119
4547396079
2357660684
159531268
2113957007
1283266699
675990337
1694257421
3204520419
914571059
3519723788
2870422811
215264579
835158867
2590698374
3698156017
2385363456
3309419238
2440921384
2467856341
2423280649
1837095916
4764096724
1791751847
3987789461
1034752078
3554518864
4011470202
437239828
1385728701
1525824977
3187580267
2142143594
1220118620
1852434718
2708419283
2865091575
3262764325
2517758919
4465939130
3843946772
5382440992
2359529065
4542389299
1963125005
1574730594
872848034
1537917059
2359108968
1921733984
3711825990
3477393746
4098169296
3777636990
2530394743
3010222811
3333323737
1248010948
1787008836
4120962764
4206039371
3141937364
2983575296
1654831926
3521018197
3901381627
4700996035
611579955
4987790739
4967052315
648796138
2254734191
3997607933
2499006761
3603874035
3115972450
5325279134
2727106898
949971838
2253464552
1194968582
3970273212
724142371
2135004266
3653665482
2695906275
3806555356
2914336613
4073229174
1466165833
1098994461
736962409
3267042724
4331808275
3790610452
659589301
2986557279
2943085884
2684918823
1843836760
2484831843
1651917643
3631525465
2512118859
2221017426
2959184980
3140310223
2303214445
1977939803
1184710900
3000715312
1610203351
5022753027
3850328039
3963792193
2343527028
4073237321
3225196506
3229695787
4243368229
3536849641
557141317
907413135
3715972073
1043165341
1807495044
2270564398
1739960173
1812833409
1671749246
4652017806
2481438076
4401932771
1837391099
1936374769
3627137753
2521820526
4701452721
3387403910
4088155980
4518756271
2629228151
4387685333
4222921591
4274476281
633524968
1499557846
1299099853
1532783815
4669282495
2543784848
3165038324
2279008671
1340713354
1185609546
3480727984
986835691
3940670525
3789537685
2323020045
2857211707
1885636015
2983905849
4074630279
4657712058
634111767
2364507240
680003374
2279274174
1339035992
1892466501
2600773715
872972408
4532872123
889352121
2058520992
2875580591
1298019964
1178348662
2421700567
2155170150
879289142
3094862088
1583169767
668446156
2331715987
4105002924
4728092971
5228050870
1627787599
2912105906
2262202465
2981769999
1199452096
1894808070
3816411901
1613250195
4200004067
3945675295
2733107282
1922766230
4001235631
2155067038
4419175964
1109639912
4437928897
4593788888
3215761688
4753003929
1154138639
1147323550
3917273772
2725090240
1784801295
3331376964
3905756412
2103848315
2615205990
4286320733
2009778354
2930075678
3281581183
4388503112
3986385319
4214275915
2432198260
1653993674
2064160579
4422818066
4857129771
3086449422
2581235959
2259908860
4405124190
3817845402
1159538854
327895278
522316170
1921567527
4984104532
514206220
3467282395
4530725372
1316924432
2863218665
3152403986
3769787181
3760752910
1985987485
4051842228
3238782458
4411967641
3700606202
4584504848
4737268505
3249836951
4730760743
2099396281
2650890149
4085191370
224146789
2518635193
2052423290
2592798936
2148005436
1912446744
4581853985
1201384450
856912598
2495518238
2109226218
1243426395
3851841323
1622772779
1458351608
2178175999
2572102008
4105231506
2258691331
3782057860
4008980518
2997590960
2493043769
1617171090
2172122090
5285493305
3541109454
1101972574
1292440663
1117870879
1603402054
2246648550
690163799
1782378182
4548773468
2118936148
2496080059
1916729483
5326551199
3040374771
3809517733
2331471951
4096712399
1392007560
3743770546
2030119991
3474716587
1602630548
};
my $once = 1;

# test 2	check random sequence
my @got = qw{0};

my $last = 999;
foreach(1..$last) {
  push @got, sRNG($once,$once);
  $once = 0;
}

foreach (1..$last) {
  unless ($got[$_] == $exp[$_]) {
    print "got: $got[$_]\nexp: $exp[$_]\nnot ";
    &ok;
    skipit($last - $_,'failed '. ($_ +1));
    last;
    print STDERR $got[$_],"\n";
  } else {
    &ok;
  }
}
